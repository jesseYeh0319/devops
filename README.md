âœ… # devops æŒ‡ä»¤å€
```
[DevOps120-æŠ€è¡“è½‰è·] Day 20ï¼šæˆ‘å·²å®Œæˆåƒæ•¸è¨­å®šï¼Œè«‹æ¥è‘—æä¾›å¯¦ä½œæ•™å­¸ã€Jenkinsfile ç¯„ä¾‹èˆ‡ Anki ç­†è¨˜ï¼ˆä¸è¦é‡è¤‡å‰é¢å…§å®¹ï¼‰

[DevOps120-æŠ€è¡“è½‰è·] Day XXï¼šè«‹é–‹å§‹ä»Šå¤©çš„ä¸»é¡Œï¼Œä¸¦é™„ä¸Šå£èªåŒ–çš„é¢è©¦å¿ƒå¾—èªªæ³•ã€‚

```

---

ğŸ§¾ # prompt 

1.æ¨¡æ¿ï¼ˆæœªæ¸²æŸ“ç´”æ–‡å­— + Emojiï¼‰
```
å¹«æˆ‘ç”¢å‡ºä¸€ä»½ [DevOps120-æŠ€è¡“è½‰è·] Day XX çš„å…§å®¹ï¼š
è«‹ä½¿ç”¨ Markdown èªæ³•æ ¼å¼ï¼Œä½†è«‹å°‡æ•´ä»½å…§å®¹ç”¨ã€Œç¨‹å¼ç¢¼å€å¡Šï¼ˆå››å€‹åå¼•è™Ÿï¼‰ã€åŒ…èµ·ä¾†
æˆ‘è¦çš„æ˜¯ Markdown åŸå§‹ç¢¼ï¼Œä¸æ˜¯æ¸²æŸ“å¾Œçš„æ¨£å­
é€™æ¨£æˆ‘æ‰èƒ½æŒ‰å³ä¸Šè§’è¤‡è£½ â†’ è²¼é€² .md æˆ– Notion â†’ å¾—åˆ°å®Œæ•´æ¸²æŸ“æ•ˆæœ
âœ… å¯ä»¥åŒ…å« Emojiã€æ¨™é¡Œã€ä»£ç¢¼å€å¡Šç­‰èªæ³•
âœ… ChatGPT ä¸è¦é å…ˆæ¸²æŸ“å…§å®¹ï¼Œè«‹æä¾›ã€Œå¯è¤‡è£½çš„æœªæ¸²æŸ“ Markdown åŸå§‹ç¢¼ã€
```

---

ğŸ”— # DevOps120 ä»»å‹™ç¯„ä¾‹é€£çµ
```
Day 4ï¼šè¨­å®š crontab æ’ç¨‹åŸ·è¡Œ log æ¸…ç†å™¨
https://github.com/jesseYeh0319/devops/tree/main/routine/day4

Day 5ï¼šå¯¦ä½œ log æ¸…ç†çµæœé€šçŸ¥ï¼ˆLine Notify ç¯„ä¾‹ï¼‰
https://github.com/jesseYeh0319/devops/tree/main/routine/day5
```

---


```PROMT
å…ˆå¹«æˆ‘çµ±æ•´æˆ‘DAY1~DAY30 å­¸äº†ç”šéº¼ï¼Œ
å¥½è®“æˆ‘ä¹‹å¾Œé–‹æ–°çš„å°è©±ï¼Œèƒ½å¤ è®“ä½ éŠœæ¥ï¼Œä¸æœƒè®“ä½ çµ¦æˆ‘é‡è¤‡çš„èª²ç¨‹å…§å®¹
```

# âœ… DevOps120 æŠ€è¡“è½‰è·è¨ˆç•«ï¼šDay 1ï½30 å­¸ç¿’çµ±æ•´

---

## ğŸ”§ Jenkins æ ¸å¿ƒæ“ä½œèˆ‡ CI/CD å»ºç½®æµç¨‹ï¼ˆDay 1ï½20ï¼‰

- âœ… Jenkins å®‰è£èˆ‡ UI æ“ä½œ
- âœ… å»ºç«‹ Freestyle èˆ‡ Pipeline Job
- âœ… ä½¿ç”¨ GitHub Webhook è‡ªå‹•è§¸ç™¼å»ºç½®ï¼ˆå« ngrok æ¨¡æ“¬ï¼‰
- âœ… åƒæ•¸åŒ–å»ºç½®ï¼ˆBranchã€ç’°å¢ƒé¸å–®ï¼‰
- âœ… ä½¿ç”¨ `Archive the artifacts` ä¿å­˜å»ºç½®ç”¢ç‰©
- âœ… æ•´åˆ Maven æ‰“åŒ… Spring Boot å°ˆæ¡ˆ
- âœ… Docker build / push / run å…¨æµç¨‹å¯¦ä½œ
- âœ… æ¨é€æ˜ åƒæª”è‡³ Docker Hub ä¸¦éƒ¨ç½²

---

## ğŸ³ Docker è‡ªå‹•åŒ–èˆ‡æ˜ åƒç®¡ç†ï¼ˆDay 21ï½25ï¼‰

- âœ… æ’°å¯« log æ¸…ç† Shell è…³æœ¬
- âœ… é…åˆ crontab è‡ªå‹•åŸ·è¡Œå®¹å™¨ log æ¸…ç†
- âœ… ä½¿ç”¨ `docker-compose.yml` ç®¡ç† log cleaner æ’ç¨‹
- âœ… æ’°å¯« `.env` ä¸¦èˆ‡ Docker Compose æ•´åˆåƒæ•¸
- âœ… å°‡ log-cleaner æ¸…ç†çµæœæ¨é€ Slack é€šçŸ¥
- âœ… æ”¹ç”¨ Volume æ›è¼‰ log è·¯å¾‘ï¼Œæ”¯æ´è·¨ç’°å¢ƒéƒ¨ç½²

---

## ğŸ“¦ Docker æ˜ åƒç‰ˆæœ¬èˆ‡éƒ¨ç½²ç­–ç•¥ï¼ˆDay 26ï½30ï¼‰

- âœ… Day 26ï¼šå°è£ Jenkinsfileï¼Œå®Œæ•´æ•´åˆ Maven + Docker + CI/CD æµç¨‹
- âœ… Day 27ï¼šæ”¹ç”¨ `./mvnw`ï¼Œç¢ºä¿ Maven ç‰ˆæœ¬ä¸€è‡´ä¸¦å…§å»ºæ–¼å°ˆæ¡ˆä¸­ï¼ˆå« `.mvn/jvm.config`ï¼‰
- âœ… Day 28ï¼šä½¿ç”¨ Jenkins åƒæ•¸ `TAG`ï¼Œå¯¦ä½œå‹•æ…‹ tag æ¨é€æ˜ åƒï¼ˆå¦‚ `dev-20240510`ï¼‰
- âœ… Day 29ï¼šæ•´åˆ Git commit hashï¼Œè‡ªå‹•æ¨™è¨˜æ˜ åƒï¼ˆå¦‚ `6e421af`ï¼‰ï¼Œæ”¯æ´éƒ¨ç½²å›æº¯
- âœ… Day 30ï¼šä½¿ç”¨ `docker tag` ç‚ºåŒä¸€æ˜ åƒæ¨™è¨˜å¤šå€‹èªæ„ tagï¼ˆå¦‚ `latest`ã€`dev`ã€build tagï¼‰ï¼Œä¸¦ä¸€æ¬¡æ¨é€

---

## ğŸ’¡ å·¥å…·èˆ‡æ¦‚å¿µç´¯ç©

- Jenkinsï¼šåƒæ•¸åŒ–å»ºç½®ã€Webhookã€æ†‘è­‰ç®¡ç†ã€ç’°å¢ƒè®Šæ•¸ã€post block
- Dockerï¼šæ˜ åƒå»ºæ§‹ã€æ¨é€ã€tag ç®¡ç†ã€Volumeã€Compose
- Gitï¼šrev-parse, commit hashã€GitHub webhook
- Shellï¼šcrontabã€log æ¸…ç†ã€è‡ªå‹•é€šçŸ¥
- çµ„åˆæ¦‚å¿µï¼š**ä¸€æ¬¡ build â†’ å¤šç‰ˆæœ¬æ¨™è¨˜ â†’ å¤šç’°å¢ƒéƒ¨ç½² â†’ å…¨æµç¨‹è¿½è¹¤**

---

## ğŸ§  æ¥ä¸‹ä¾†å»ºè­°æ–¹å‘ï¼ˆDay 31 ä¹‹å¾Œï¼‰å¯é¿å…é‡è¤‡ï¼š

- âŒ ä¸éœ€å†æ•™ï¼šDocker Hub æ¨é€ã€tag åŸºç¤
- âœ… å¯é€²éšå­¸ï¼š
  - Jenkins Shared Librariesï¼ˆæ¨¡çµ„åŒ–æµç¨‹ï¼‰
  - Jenkins Credentials èˆ‡ Secrets ç®¡ç†
  - Dockerfile æœ€ä½³åŒ–ï¼ˆå¤šéšæ®µå»ºæ§‹ã€å¤šå¹³å°ï¼‰
  - æ˜ åƒæƒæèˆ‡å®‰å…¨æ€§
  - å»ºç½®é€šçŸ¥æ•´åˆ Slackã€Line Notifyã€GitHub PR status
  - æ¸¬è©¦æµç¨‹ï¼ˆJUnit + Test Report pluginï¼‰

---

# ğŸ§  DevOps140 Day 41ï½Day 45 çµ±æ•´å¿ƒå¾—ï¼ˆéŠœæ¥æ–° Session ç”¨ï¼‰

---

## âœ… Day 41ï¼šå¤šéšæ®µ Dockerfile å»ºæ§‹æœ€ä½³åŒ–
- å­¸æœƒ `FROM ... AS build` â†’ `FROM ...` å¤šéšæ®µå»ºæ§‹
- ç›®çš„ï¼šåªç•™ä¸‹å¯åŸ·è¡Œçš„ `.jar`ï¼Œä¸æŠŠæ•´å€‹å°ˆæ¡ˆå£“é€²æ˜ åƒ
- å¥½è™•ï¼šæ˜ åƒæ›´å°ã€æ›´ä¹¾æ·¨ã€æ›´å®‰å…¨

---

## âœ… Day 42ï¼šç˜¦èº«æ˜ åƒï¼Œé™ä½é«”ç©èˆ‡å¿«å–è¨­è¨ˆ
- åŠ å…¥ BuildKit å¿«å– `.m2` ç›®éŒ„ï¼ŒåŠ é€Ÿ build
- èªè­˜ `--mount=type=cache` èˆ‡ `DOCKER_BUILDKIT=1`
- ç²¾ç°¡ base imageï¼šå¾ `maven` â†’ `temurin-jre`

---

## âœ… Day 43ï¼šä½¿ç”¨ Docker Compose å•Ÿå‹•å¤šå®¹å™¨æ‡‰ç”¨
- å»ºç«‹ `app + db` å¤šå®¹å™¨æœå‹™
- å­¸æœƒ `depends_on` æ§åˆ¶å•Ÿå‹•é †åº
- ä½¿ç”¨ `.env` æ§åˆ¶ portã€è³‡æ–™åº«å¸³å¯†ç­‰åƒæ•¸åŒ–é…ç½®

---

## âœ… Day 44ï¼šè¨­å®š volumeã€network èˆ‡ç’°å¢ƒåˆ‡æ›
- Volume ç¶å®šï¼ˆé è¨­ volume vs bind mountï¼‰
- Network åˆ†çµ„ï¼ˆå¦‚ backendï¼‰ï¼Œæ§åˆ¶å®¹å™¨é€šè¨Šç¯„åœ
- `.env` + `--env-file` æ­é…ä½¿ç”¨åˆæ­¥å¯¦ä½œ

---

## âœ… Day 45ï¼šè¨­è¨ˆ dev / staging / prod å¤šçµ„ .env çµæ§‹
- å°‡ `.env.dev`ã€`.env.staging`ã€`.env.prod` åˆ†é›¢
- Volume å‘½åçµ±ä¸€ã€port åˆ†çµ„æ¸…æ¥š
- è£œä¸Š Makefile ç¯„æœ¬èˆ‡éƒ¨ç½²æ‰‹å†Š
- å»ºç«‹åˆ‡ç’°å¢ƒéƒ¨ç½²çš„å¯è¤‡è£½æµç¨‹ï¼Œåˆ©æ–¼ CI/CD èˆ‡åœ˜éšŠå”ä½œ

---

> ğŸ¯ ä½ ç›®å‰å·²å…·å‚™ï¼šå®Œæ•´ Docker å°ˆæ¡ˆéª¨æ¶ã€ç’°å¢ƒåˆ†é›¢è¨­è¨ˆã€ç²¾ç°¡æ˜ åƒæ‰“åŒ…ã€è‡ªå‹•åŒ–éƒ¨ç½²æµç¨‹é››å‹
> ğŸ”œ å¯æ¥çºŒé€²å…¥ GitHub Actions / Jenkins / éƒ¨ç½²è‡ªå‹•åŒ–ç­‰ä¸»é¡Œ
